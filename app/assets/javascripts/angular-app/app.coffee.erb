angular.module 'kandooApp', ['ngResource', 'ngRoute']
  .config ['$stateProvider', '$locationProvider', ($stateProvider, $locationProvider) ->
    $locationProvider.html5Mode true
    $stateProvider
      .when '/new_task',
        {
          templateUrl: "<%= asset_path('tasks/new.html.haml') %>",
          controller: 'NewTaskController'
        }

    # .otherwise({ redirectTo: "/" });
  ]
  .controller 'WelcomeController', ['$scope', ($scope) ->
    console.log "did a different thing"
  ]

  .controller 'NewTaskController', ['$scope', ($scope) ->
    console.log 'did the thing'
    $scope.foo = "GREAT JOB, YOU!"
  ]